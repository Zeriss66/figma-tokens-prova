{"version":3,"file":"api-viewer-tab.js","sourceRoot":"","sources":["../src/api-viewer-tab.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,iCAAiC,CAAC;AAEvD,IAAI,YAAY,GAAG,CAAC,CAAC;AAErB,MAAM,GAAG,GAAG,IAAI,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAuFf,CAAC;AAEF,MAAM,OAAO,YAAa,SAAQ,WAAW;IAkB3C;QACE,KAAK,EAAE,CAAC;QAlBF,eAAU,GAAG,KAAK,CAAC;QAEnB,cAAS,GAAG,KAAK,CAAC;QAkBxB,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;QAE9C,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,gBAAgB,CACnB,MAAM,EACN,GAAG,EAAE;YACH,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACxB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,EACD,IAAI,CACL,CAAC;QAEF,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,GAAG,EAAE;YACtC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC;YAC1C,MAAM,eAAe,GAAG,GAAG,EAAE;gBAC3B,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC;gBAC3C,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;YAC3D,CAAC,CAAC;YACF,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;IACL,CAAC;IArCD,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED,IAAI,QAAQ,CAAC,QAAiB;QAC5B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAE1B,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;QACrD,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAErD,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IAC7C,CAAC;IA4BD,iBAAiB;QACf,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAEjC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;YACZ,IAAI,CAAC,EAAE,GAAG,kBAAkB,YAAY,EAAE,EAAE,CAAC;SAC9C;IACH,CAAC;IAEO,UAAU,CAAC,MAAe;QAChC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACzC,CAAC;IAEO,WAAW,CAAC,OAAgB;QAClC,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QACzC,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAClE,CAAC;CACF;AAED,cAAc,CAAC,MAAM,CAAC,gBAAgB,EAAE,YAAY,CAAC,CAAC","sourcesContent":["import { html } from '@api-viewer/common/lib/utils.js';\n\nlet tabIdCounter = 0;\n\nconst tpl = html`\n  <style>\n    :host {\n      display: flex;\n      align-items: center;\n      flex-shrink: 0;\n      box-sizing: border-box;\n      position: relative;\n      max-width: 150px;\n      overflow: hidden;\n      min-height: 3rem;\n      padding: 0 1rem;\n      color: var(--ave-tab-color);\n      font-size: 0.875rem;\n      line-height: 1.2;\n      font-weight: 500;\n      text-transform: uppercase;\n      outline: none;\n      cursor: pointer;\n      -webkit-user-select: none;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n    }\n\n    :host([hidden]) {\n      display: none !important;\n    }\n\n    :host::before {\n      content: '';\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      width: var(--ave-tab-indicator-size);\n      background-color: var(--ave-primary-color);\n      opacity: 0;\n    }\n\n    :host([selected]) {\n      color: var(--ave-tab-selected-color, var(--ave-primary-color));\n    }\n\n    :host([selected])::before {\n      opacity: 1;\n    }\n\n    :host::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      background-color: var(--ave-primary-color);\n      opacity: 0;\n      transition: opacity 0.1s linear;\n    }\n\n    :host(:hover)::after {\n      opacity: 0.08;\n    }\n\n    :host([focus-ring])::after {\n      opacity: 0.12;\n    }\n\n    :host([active])::after {\n      opacity: 0.16;\n    }\n\n    @media (max-width: 600px) {\n      :host {\n        justify-content: center;\n        text-align: center;\n      }\n\n      :host::before {\n        top: auto;\n        right: 0;\n        width: 100%;\n        height: var(--ave-tab-indicator-size);\n      }\n    }\n  </style>\n  <slot></slot>\n`;\n\nexport class ApiViewerTab extends HTMLElement {\n  private _mousedown = false;\n\n  private _selected = false;\n\n  get selected(): boolean {\n    return this._selected;\n  }\n\n  set selected(selected: boolean) {\n    this._selected = selected;\n\n    this.setAttribute('aria-selected', String(selected));\n    this.setAttribute('tabindex', selected ? '0' : '-1');\n\n    this.toggleAttribute('selected', selected);\n  }\n\n  constructor() {\n    super();\n\n    const root = this.attachShadow({ mode: 'open' });\n    root.appendChild(tpl.content.cloneNode(true));\n\n    this.addEventListener('focus', () => this._setFocused(true), true);\n    this.addEventListener(\n      'blur',\n      () => {\n        this._setFocused(false);\n        this._setActive(false);\n      },\n      true\n    );\n\n    this.addEventListener('mousedown', () => {\n      this._setActive((this._mousedown = true));\n      const mouseUpListener = () => {\n        this._setActive((this._mousedown = false));\n        document.removeEventListener('mouseup', mouseUpListener);\n      };\n      document.addEventListener('mouseup', mouseUpListener);\n    });\n  }\n\n  connectedCallback(): void {\n    this.setAttribute('role', 'tab');\n\n    if (!this.id) {\n      this.id = `api-viewer-tab-${tabIdCounter++}`;\n    }\n  }\n\n  private _setActive(active: boolean): void {\n    this.toggleAttribute('active', active);\n  }\n\n  private _setFocused(focused: boolean): void {\n    this.toggleAttribute('focused', focused);\n    this.toggleAttribute('focus-ring', focused && !this._mousedown);\n  }\n}\n\ncustomElements.define('api-viewer-tab', ApiViewerTab);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'api-viewer-tab': ApiViewerTab;\n  }\n}\n"]}